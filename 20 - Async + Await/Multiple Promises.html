<!DOCTYPE html>
<html lang="en">

<head>
	<title>Async Await</title>
</head>

<body>
	<script>
		// async function go() {
		// 	// const p1 = fetch('https://api.github.com/users/markfasel').then(r => r.json());
		// 	// const p2 = fetch('https://api.github.com/users/wesbos').then(r => r.json());

		// 	const p1 = fetch('https://api.github.com/users/markfasel');
		// 	const p2 = fetch('https://api.github.com/users/wesbos');
		// 	// wait for both to come back

		// 	// Another way to handle this
		// 	const res = Promise.all([p1, p2]);
		// 	const dataPromises = res.map(r => r.json());
		// 	const [mark, wes] = await Promises.all(dataPromises);
		// 	console.log(mark, wes);
		// }

		// go();

		async function getData(names) {
			const promises = names.map(name => fetch(`https://api.github.com/users/${name}`)
				.then(r => r.json()));
			// const people = await Promise.all(promises);
			const people = await Promise.race(promises); // resolve as soon as the first promise comes back - not used much in real world
			console.log(people);
		}

		getData(['mark', 'wes']);

	</script>
</body>

</html>